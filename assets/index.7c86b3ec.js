var de=Object.defineProperty;var q=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var J=(e,o,i)=>o in e?de(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i,G=(e,o)=>{for(var i in o||(o={}))fe.call(o,i)&&J(e,i,o[i]);if(q)for(var i of q(o))ge.call(o,i)&&J(e,i,o[i]);return e};import{A as T}from"./AppType.12f592ea.js";import{B as pe}from"./index.579068bc.js";import{u as Ce,a as he,c as K,e as A,b as Ne,d as Be}from"./components.1dfa4f07.js";import{d as x,a as d,b as O,w as z,o as ye,af as Ie,_ as ee,s as H,f as k,h as U,J as M,i as D,P as u,m as ae,k as $,H as P,K as le,an as Ae,ab as ke,j as Ee,l as Te,F as te,M as y,N as I,t as l,ag as a}from"./elevation.b6664af0.js";import{R as _e}from"./index.6f8d2b65.js";import{B as Se}from"./index.4eada2fc.js";import{I as ne}from"./index.388f0ba6.js";import{S as Q}from"./index.1f1f8977.js";import{d as Fe}from"./index.44d39c3e.js";import{u as Oe,a as oe,_ as $e,b as Pe,c as Ue}from"./en-US.ee95b3a9.js";import{a as Me,b as De}from"./utils.0c1f0941.js";import"./index.3a3df279.js";import"./elements.e9a3cb11.js";import"./index.907bdd7e.js";/* empty css               */import"./zIndex.b5e81158.js";import"./lock.220e1e94.js";const Le={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:{type:Function},"onUpdate:active":{type:Function},onBeforeChange:{type:Function},onFabClick:{type:Function},fabProps:{type:Object}},ie=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY"),se=Symbol("BOTTOM_NAVIGATION_COUNT_BOTTOM_NAVIGATION_ITEM_KEY");function Ve(){const{childProviders:e,bindChildren:o}=Ce(ie),{length:i}=he(se);return{length:i,bottomNavigationItems:e,bindBottomNavigationItem:o}}const{n:we,classes:Ge}=K("bottom-navigation"),{n:L}=K("bottom-navigation-item"),W=L("--right-half-space"),X=L("--left-half-space"),Z=L("--right-space"),ze={type:"primary"},He=x({name:"VarBottomNavigation",components:{VarButton:pe},props:Le,setup(e,{slots:o}){const i=d(null),v=O(()=>e.active),f=O(()=>e.activeColor),h=O(()=>e.inactiveColor),m=d({}),{length:b,bottomNavigationItems:N,bindBottomNavigationItem:g}=Ve(),_=()=>{b.value===0||E()||B()||s()},E=()=>N.find(({name:r})=>v.value===r.value),B=()=>N.find(({index:r})=>v.value===r.value),s=()=>{!Ae(v.value)||(v.value<0?A(e["onUpdate:active"],0):v.value>b.value-1&&A(e["onUpdate:active"],b.value-1))},c=r=>{e.onBeforeChange?re(r):R(r)},re=r=>{Promise.resolve(A(e.onBeforeChange,r)).then(p=>p&&R(r))},R=r=>{A(e["onUpdate:active"],r),A(e.onChange,r)},ue=()=>{j().forEach(p=>{p.classList.remove(W,X,Z)})},Y=r=>{const p=j(),S=p.length,F=r%2===0;p.forEach((V,w)=>{be(F,V,w,S)})},be=(r,p,S,F)=>{const V=S===F-1;if(!r&&V){p.classList.add(Z);return}const w=S===F/2-1,me=S===F/2;w?p.classList.add(W):me&&p.classList.add(X)},j=()=>Array.from(i.value.querySelectorAll(`.${L()}`)),ve=()=>{A(e.onFabClick)};return g({active:v,activeColor:f,inactiveColor:h,onToggle:c}),z(()=>b.value,_),z(()=>e.fabProps,r=>{m.value=G(G({},ze),r)},{immediate:!0,deep:!0}),ye(()=>{!o.fab||Y(b.value)}),Ie(()=>{ue(),o.fab&&Y(b.value)}),{n:we,classes:Ge,length:b,bottomNavigationDom:i,handleFabClick:ve,fabProps:m}}});function Ke(e,o,i,v,f,h){const m=H("var-button");return k(),U("div",{class:P(e.classes(e.n(),[e.fixed,e.n("--fixed")],[e.border,e.n("--border")],[e.safeArea,e.n("--safe-area")])),ref:"bottomNavigationDom",style:le(`z-index:${e.zIndex}`)},[M(e.$slots,"default"),e.$slots.fab?(k(),D(m,ae({key:0,class:e.classes(e.n("fab"),[e.length%2,e.n("--fab-right"),e.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:e.handleFabClick},e.fabProps,{round:""}),{default:u(()=>[M(e.$slots,"fab")]),_:3},16,["class","onClick"])):$("v-if",!0)],6)}var C=ee(He,[["render",Ke]]);C.install=function(e){e.component(C.name,C)};const Re={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:{type:Function}};function Ye(){const{parentProvider:e,bindParent:o}=Ne(ie),{index:i}=Be(se);if(!e||!o||!i)throw Error("<var-bottom-navigation-item/> must in <var-bottom-navigation/>");return{index:i,bottomNavigation:e,bindBottomNavigation:o}}const{n:je,classes:qe}=K("bottom-navigation-item"),Je={type:"danger",dot:!0},Qe=x({name:"VarBottomNavigationItem",components:{VarBadge:Se,VarIcon:ne},directives:{Ripple:_e},props:Re,setup(e){const o=O(()=>e.name),i=O(()=>e.badge),v=d({}),{index:f,bottomNavigation:h,bindBottomNavigation:m}=Ye(),{active:b,activeColor:N,inactiveColor:g}=h,_={name:o,index:f},E=()=>b.value===o.value||b.value===f.value?N.value:g.value,B=()=>{var c;const s=(c=o.value)!=null?c:f.value;A(e.onClick,s),A(h.onToggle,s)};return m(_),z(()=>i.value,s=>{v.value=s===!0?Je:i.value},{immediate:!0}),{n:je,classes:qe,index:f,active:b,badge:i,badgeProps:v,computeColorStyle:E,handleClick:B}}});function We(e,o,i,v,f,h){const m=H("var-icon"),b=H("var-badge"),N=ke("ripple");return Ee((k(),U("button",{class:P(e.classes(e.n(),[e.active===e.index||e.active===e.name,e.n("--active")])),style:le({color:e.computeColorStyle()}),onClick:o[0]||(o[0]=(...g)=>e.handleClick&&e.handleClick(...g))},[e.icon&&!e.$slots.icon?(k(),D(m,{key:0,name:e.icon,namespace:e.namespace,class:P(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0),M(e.$slots,"icon",{active:e.active===e.index||e.active===e.name}),e.badge?(k(),D(b,ae({key:1},e.badgeProps,{class:e.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):$("v-if",!0),Te("span",{class:P(e.n("label"))},[e.$slots.default?$("v-if",!0):(k(),U(te,{key:0},[y(I(e.label),1)],2112)),M(e.$slots,"default")],2)],6)),[[N]])}var n=ee(Qe,[["render",We]]);n.install=function(e){e.component(n.name,n)};var Xe={basicUsage:"\u57FA\u672C\u4F7F\u7528",matchByName:"\u901A\u8FC7\u540D\u79F0\u5339\u914D",showBadge:"\u5FBD\u6807\u63D0\u793A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",changeEvent:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6",clickEvent:"\u76D1\u542C\u70B9\u51FB\u4E8B\u4EF6",fab:"\u60AC\u6D6E\u6309\u94AE",label:"\u6807\u7B7E"},Ze={basicUsage:"Basic Usage",matchByName:"Match by name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"};const{add:ce,use:xe,pack:t,packs:Na,merge:Ba}=Oe(),ea=e=>{Ue(e),xe(e)};oe("zh-CN",$e);oe("en-US",Pe);ce("zh-CN",Xe);ce("en-US",Ze);const ya={setup(e){const o=d(0),i=d("home"),v=d(0),f={type:"primary",value:"66"},h=d(0),m=d(0);function b(B){Q.info(`changed to ${B}`)}const N=d(0);function g(B){Q.success(`clicked ${B}`)}const _=d(0),E=d(!0);return Me(ea),De(Fe),(B,s)=>(k(),U(te,null,[l(a(T),null,{default:u(()=>[y(I(a(t).basicUsage),1)]),_:1}),l(a(C),{active:o.value,"onUpdate:active":s[0]||(s[0]=c=>o.value=c)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).matchByName),1)]),_:1}),l(a(C),{active:i.value,"onUpdate:active":s[1]||(s[1]=c=>i.value=c)},{default:u(()=>[l(a(n),{name:"home",label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{name:"search",label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{name:"heart",label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{name:"user",label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).showBadge),1)]),_:1}),l(a(C),{active:v.value,"onUpdate:active":s[2]||(s[2]=c=>v.value=c)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify",badge:""},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart",badge:f},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).customColor),1)]),_:1}),l(a(C),{"active-color":"#ba68c8",active:h.value,"onUpdate:active":s[3]||(s[3]=c=>h.value=c)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).changeEvent),1)]),_:1}),l(a(C),{active:m.value,"onUpdate:active":s[4]||(s[4]=c=>m.value=c),onChange:b},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).clickEvent),1)]),_:1}),l(a(C),{active:N.value,"onUpdate:active":s[5]||(s[5]=c=>N.value=c)},{default:u(()=>[l(a(n),{onClick:g,label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).fab),1)]),_:1}),l(a(C),{active:_.value,"onUpdate:active":s[6]||(s[6]=c=>_.value=c),onFabClick:s[7]||(s[7]=c=>E.value=!E.value),style:{"margin-top":"10px"}},{fab:u(()=>[l(a(ne),{name:"heart"})]),default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"bell"},null,8,["label"]),E.value?$("v-if",!0):(k(),D(a(n),{key:0,label:a(t).label,icon:"account-circle"},null,8,["label"]))]),_:1},8,["active"])],64))}};export{ya as default};
