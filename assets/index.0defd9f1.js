import{i as U,e as d,c as L}from"./components.1dfa4f07.js";import{m as o}from"./elements.e9a3cb11.js";import{F as M,u as T}from"./provide.24680078.js";import{L as P}from"./index.3a3df279.js";import{R as W}from"./index.6f8d2b65.js";import{d as j,b as B,_ as E,n as H,s as F,ab as K,f as V,h as D,l as f,K as v,H as u,j as q,i as G,k as I,t as J}from"./elevation.b6664af0.js";const O={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number]},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const{n:Q,classes:X}=L("switch"),Y=j({name:"VarSwitch",components:{VarLoading:P,VarFormDetails:M},directives:{Ripple:W},props:O,setup(e){const{bindForm:c,form:l}=T(),{errorMessage:t,validateWithTrigger:b,validate:w,resetValidation:m}=U(),h=()=>w(e.rules,e.modelValue),g=()=>H(()=>b(["onChange"],"onChange",e.rules,e.modelValue)),y=B(()=>{const{size:a,modelValue:i,color:n,closeColor:r,loadingColor:p,activeValue:s}=e;return{handle:{width:o(a),height:o(a),backgroundColor:i===s?n||"":r||"",color:p&&p},ripple:{left:i===s?o(a,.5):`-${o(a,.5)}`,color:i===s?n||"":r||"#999",width:o(a,2),height:o(a,2)},track:{height:o(a,.72),width:o(a,1.9),borderRadius:o(a,2/3),filter:i===s||(t==null?void 0:t.value)?"opacity(.6)":"brightness(.6)",backgroundColor:i===s?n||"":r||""},switch:{height:o(a,1.2),width:o(a,2)}}}),z=B(()=>{const{size:a="5.333vw"}=e;return o(a,.4)}),N=a=>{const{onClick:i,onChange:n,disabled:r,loading:p,readonly:s,modelValue:$,activeValue:k,inactiveValue:A,"onUpdate:modelValue":R}=e;if(d(i,a),r||p||s||(l==null?void 0:l.disabled.value)||(l==null?void 0:l.readonly.value))return;const S=$===k?A:k;d(n,S),d(R,S),g()};return d(c,{reset:()=>{d(e["onUpdate:modelValue"],e.inactiveValue),m()},validate:h,resetValidation:m}),{n:Q,classes:X,switchActive:N,radius:z,styleComputed:y,errorMessage:t,formDisabled:l==null?void 0:l.disabled,formReadonly:l==null?void 0:l.readonly}}});function Z(e,c,l,t,b,w){const m=F("var-loading"),h=F("var-form-details"),g=K("ripple");return V(),D("div",{class:u(e.n())},[f("div",{class:u(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disable")])),onClick:c[0]||(c[0]=(...y)=>e.switchActive&&e.switchActive(...y)),style:v(e.styleComputed.switch)},[f("div",{style:v(e.styleComputed.track),class:u(e.classes(e.n("track"),[e.modelValue===e.activeValue,e.n("track--active")],[e.errorMessage,e.n("track--error")]))},null,6),q((V(),D("div",{class:u(e.classes(e.n("ripple"),[e.modelValue===e.activeValue,e.n("ripple--active")])),style:v(e.styleComputed.ripple)},[f("div",{style:v(e.styleComputed.handle),class:u(e.classes(e.n("handle"),"var-elevation--2",[e.modelValue===e.activeValue,e.n("handle--active")],[e.errorMessage,e.n("handle--error")]))},[e.loading?(V(),G(m,{key:0,radius:e.radius},null,8,["radius"])):I("v-if",!0)],6)],6)),[[g,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),J(h,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var C=E(Y,[["render",Z]]);C.install=function(e){e.component(C.name,C)};export{C as S};
