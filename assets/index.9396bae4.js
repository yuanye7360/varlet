var $=Object.defineProperty;var y=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var h=(e,s,o)=>s in e?$(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,C=(e,s)=>{for(var o in s||(s={}))B.call(s,o)&&h(e,o,s[o]);if(y)for(var o of y(s))R.call(s,o)&&h(e,o,s[o]);return e};import{R as U}from"./index.6f8d2b65.js";import{p as V,P as z}from"./index.7c703776.js";import{I}from"./index.388f0ba6.js";import{p as N,c as A,e as u,m as F}from"./components.1dfa4f07.js";import{d as D}from"./shared.f6499a12.js";import{p as T}from"./en-US.ee95b3a9.js";import{d as j,a as E,w as H,_ as J,s as f,ab as K,f as i,i as k,P as L,l as v,J as w,m as S,H as c,N as g,h as O,ad as q,j as G,K as M,k as Q,F as W,av as X,r as Y,n as Z}from"./elevation.b6664af0.js";const _=C({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:{type:Function},"onUpdate:show":{type:Function}},N(V,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));const{n:x,classes:ee}=A("action-sheet"),oe=j({name:"VarActionSheet",directives:{Ripple:U},components:{VarPopup:z,VarIcon:I},inheritAttrs:!1,props:_,setup(e){const s=E(!1),o=n=>{if(n.disabled)return;const{closeOnClickAction:p,onSelect:m}=e;u(m,n),p&&u(e["onUpdate:show"],!1)},r=n=>u(e["onUpdate:show"],n);return H(()=>e.show,n=>{s.value=n},{immediate:!0}),{n:x,classes:ee,handlePopupUpdateShow:r,popupShow:s,pack:T,dt:D,handleSelect:o}}}),ne=["onClick"];function se(e,s,o,r,n,p){const m=f("var-icon"),P=f("var-popup"),b=K("ripple");return i(),k(P,S({class:e.n("popup-radius"),position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":e.handlePopupUpdateShow},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:L(()=>[v("div",S({class:e.classes(e.n(),"var--box")},e.$attrs),[w(e.$slots,"title",{},()=>[v("div",{class:c(e.n("title"))},g(e.dt(e.title,e.pack.actionSheetTitle)),3)]),w(e.$slots,"actions",{},()=>[(i(!0),O(W,null,q(e.actions,l=>G((i(),O("div",{class:c(e.classes(e.n("action-item"),l.className,[l.disabled,e.n("--disabled")])),key:l.name,style:M({color:l.color}),onClick:le=>e.handleSelect(l)},[l.icon?(i(),k(m,{key:0,class:c(e.n("action-icon")),"var-action-sheet-cover":"",name:l.icon,size:l.iconSize},null,8,["class","name","size"])):Q("v-if",!0),v("div",{class:c(e.n("action-name"))},g(l.name),3)],14,ne)),[[b,{disabled:l.disabled}]])),128))])],16)]),_:3},16,["class","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var t=J(oe,[["render",se]]);let a;function d(e){return X()?new Promise(s=>{d.close();const o=Y(e);o.teleport="body",a=o;const{unmountInstance:r}=F(t,o,{onSelect:n=>{var p;(p=o.onSelect)==null||p.call(o,n),s(n)},onClose:()=>{var n;(n=o.onClose)==null||n.call(o),s("close")},onClosed:()=>{var n;(n=o.onClosed)==null||n.call(o),r(),a===o&&(a=null)},onRouteChange:()=>{r(),a===o&&(a=null)},"onUpdate:show":n=>{o.show=n}});o.show=!0}):Promise.resolve()}d.Component=t;t.install=function(e){e.component(t.name,t)};d.close=()=>{if(a!=null){const e=a;a=null,Z().then(()=>{e.show=!1})}};d.install=function(e){e.component(t.name,t)};export{d as A};
