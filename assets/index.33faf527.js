import{t as B,h as C,c as H}from"./elements.e9a3cb11.js";import{d as I,a as o,b as p,w as R,E as D,G as P,o as V,D as A,W as G,_ as J,f as K,h as O,l as U,J as j,H as M,K as $}from"./elevation.b6664af0.js";import{c as q,e as k}from"./components.1dfa4f07.js";const Q={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:{type:Function}};const{n:X,classes:Y}=q("sticky"),Z=I({name:"VarSticky",props:Q,setup(e){const n=o(null),d=o(null),a=o(!1),i=o("0px"),r=o("0px"),v=o("auto"),m=o("auto"),b=o("auto"),h=o("auto"),W=p(()=>!e.disabled&&e.cssMode),E=p(()=>!e.disabled&&a.value),l=p(()=>B(e.offsetTop));let t;const s=()=>{const{onScroll:w,cssMode:F,disabled:L}=e;if(L)return;let f=0;if(t!==window){const{top:z}=t.getBoundingClientRect();f=z}const g=d.value,c=n.value,{top:T,left:N}=c.getBoundingClientRect(),x=T-f;x<=l.value?(F||(v.value=`${c.offsetWidth}px`,m.value=`${c.offsetHeight}px`,i.value=`${f+l.value}px`,r.value=`${N}px`,b.value=`${g.offsetWidth}px`,h.value=`${g.offsetHeight}px`,a.value=!0),k(w,l.value,!0)):(a.value=!1,k(w,x,!1))},y=async()=>{await C(),t=H(n.value),t!==window&&t.addEventListener("scroll",s),window.addEventListener("scroll",s),s()},S=()=>{t!==window&&t.removeEventListener("scroll",s),window.removeEventListener("scroll",s)};return R(()=>e.disabled,s),D(y),P(S),V(y),A(S),{n:X,classes:Y,stickyEl:n,wrapperEl:d,isFixed:a,offsetTop:l,fixedTop:i,fixedLeft:r,fixedWidth:v,fixedHeight:m,fixedWrapperWidth:b,fixedWrapperHeight:h,enableCSSMode:W,enableFixedMode:E,toNumber:G}}});function _(e,n,d,a,i,r){return K(),O("div",{class:M(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:$({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[U("div",{class:M(e.n("wrapper")),ref:"wrapperEl",style:$({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[j(e.$slots,"default")],6)],6)}var u=J(Z,[["render",_]]);u.install=function(e){e.component(u.name,u)};export{u as S,Q as p};
