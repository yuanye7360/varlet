import{A as F}from"./AppType.12f592ea.js";import{i as O,r as L}from"./elements.e9a3cb11.js";import{d as q,a as _,w as G,_ as M,W as b,f as H,h as U,J,aF as W,aG as Y,H as K,M as i,N as o,t as a,ag as e,P as u,F as Q,l as x,ai as X,aj as Z}from"./elevation.b6664af0.js";import{c as ee,e as A}from"./components.1dfa4f07.js";import{S as te}from"./index.1f1f8977.js";import{B as T}from"./index.579068bc.js";import{R as se}from"./index.e24f4bc9.js";import{d as ae}from"./index.44d39c3e.js";import{u as oe,a as z,_ as ne,b as ue,c as le}from"./en-US.ee95b3a9.js";import{a as re,b as ce}from"./utils.0c1f0941.js";import"./index.3a3df279.js";import"./index.388f0ba6.js";import"./zIndex.b5e81158.js";import"./index.907bdd7e.js";import"./lock.220e1e94.js";import"./index.6f8d2b65.js";/* empty css               */const ie={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const{n:me}=ee("countdown"),k=1e3,E=60*k,N=60*E,B=24*N,de=q({name:"VarCountdown",props:ie,setup(s){const m=_(0),d=_(!1),C=_(""),g=_(0),v=_(0),n=_({days:0,hours:0,minutes:0,seconds:0,milliseconds:0}),p=(t,y)=>{const l=Object.values(y),w=["DD","HH","mm","ss"],r=[24,60,60,1e3];if(w.forEach((f,h)=>{t.includes(f)?t=t.replace(f,String(l[h]).padStart(2,"0")):l[h+1]+=l[h]*r[h]}),t.includes("S")){const f=String(l[l.length-1]).padStart(3,"0");t.includes("SSS")?t=t.replace("SSS",f):t.includes("SS")?t=t.replace("SS",f.slice(0,2)):t=t.replace("S",f.slice(0,1))}return t},V=t=>{const y=Math.floor(t/B),l=Math.floor(t%B/N),w=Math.floor(t%N/E),r=Math.floor(t%E/k),f=Math.floor(t%k),h={days:y,hours:l,minutes:w,seconds:r,milliseconds:f};n.value=h,A(s.onChange,n.value),C.value=p(s.format,h)},D=()=>{const{time:t,onEnd:y,autoStart:l}=s,w=Date.now();m.value||(m.value=w+b(t));let r=m.value-w;if(r<0&&(r=0),v.value=r,V(r),r===0){A(y);return}(l||d.value)&&(g.value=L(D))},P=()=>{d.value||(d.value=!0,m.value=Date.now()+(v.value||b(s.time)),D())},j=()=>{d.value=!1},$=()=>{m.value=0,d.value=!1,O(g.value),D()};return G(()=>s.time,()=>$(),{immediate:!0}),{showTime:C,timeData:n,n:me,start:P,pause:j,reset:$}}});function pe(s,m,d,C,g,v){return H(),U("div",{class:K(s.n())},[J(s.$slots,"default",W(Y(s.timeData)),()=>[i(o(s.showTime),1)])],2)}var S=M(de,[["render",pe]]);S.install=function(s){s.component(S.name,S)};var fe={basicUsage:"\u57FA\u672C\u4F7F\u7528",customFormat:"\u81EA\u5B9A\u4E49\u683C\u5F0F",showMillisecond:"\u663E\u793A\u6BEB\u79D2",customStyle:"\u81EA\u5B9A\u4E49\u6837\u5F0F",manualControl:"\u624B\u52A8\u63A7\u5236",format:"DD \u5929 HH \u65F6 mm \u5206 ss \u79D2",startText:"\u5F00\u59CB",pauseText:"\u6682\u505C",resetText:"\u91CD\u7F6E"},_e={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"};const{add:I,use:Se,pack:c,packs:Pe,merge:je}=oe(),ve=s=>{le(s),Se(s)};z("zh-CN",ne);z("en-US",ue);I("zh-CN",fe);I("en-US",_e);const R=s=>(X("data-v-2f9e72f6"),s=s(),Z(),s),he={class:"countdown-example-block"},we=R(()=>x("span",{class:"countdown-example-colon"},":",-1)),Ce={class:"countdown-example-block"},ge=R(()=>x("span",{class:"countdown-example-colon"},":",-1)),ye={class:"countdown-example-block"},Fe={setup(s){const m=_(null),d=_(3e3),C=()=>{te.info("end!")},g=()=>{console.log("change")};return re(ve),ce(ae),(v,n)=>(H(),U(Q,null,[a(e(F),null,{default:u(()=>[i(o(e(c).basicUsage),1)]),_:1}),a(e(S),{time:"108000000"}),a(e(F),null,{default:u(()=>[i(o(e(c).customFormat),1)]),_:1}),a(e(S),{time:"108000000",format:e(c).format},null,8,["format"]),a(e(F),null,{default:u(()=>[i(o(e(c).showMillisecond),1)]),_:1}),a(e(S),{time:"108000000",format:"HH : mm : ss : SS"}),a(e(F),null,{default:u(()=>[i(o(e(c).customStyle),1)]),_:1}),a(e(S),{time:"108000000"},{default:u(p=>[x("span",he,o(p.hours),1),we,x("span",Ce,o(p.minutes),1),ge,x("span",ye,o(p.seconds),1)]),_:1}),a(e(F),null,{default:u(()=>[i(o(e(c).manualControl),1)]),_:1}),a(e(S),{time:d.value,ref_key:"countdown",ref:m,"auto-start":!1,format:"ss : SSS",onEnd:C,onChange:g},null,8,["time"]),a(e(se),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:u(()=>[a(e(T),{type:"primary",onClick:n[0]||(n[0]=p=>v.$refs.countdown.start())},{default:u(()=>[i(o(e(c).startText),1)]),_:1}),a(e(T),{onClick:n[1]||(n[1]=p=>v.$refs.countdown.pause())},{default:u(()=>[i(o(e(c).pauseText),1)]),_:1}),a(e(T),{onClick:n[2]||(n[2]=p=>v.$refs.countdown.reset())},{default:u(()=>[i(o(e(c).resetText),1)]),_:1})]),_:1})],64))}};var Oe=M(Fe,[["__scopeId","data-v-2f9e72f6"]]);export{Oe as default};
